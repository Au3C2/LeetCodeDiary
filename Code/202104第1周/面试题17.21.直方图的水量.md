<!--
 * @Description: 
 * @Autor: Au3C2
 * @Date: 2021-04-02 10:37:08
 * @LastEditors: Au3C2
 * @LastEditTime: 2021-04-02 10:39:35
-->
```python
class Solution:
    def trap(self, height: List[int]) -> int:
        Sum = sum(height) # å¾—åˆ°æŸ±å­çš„ä½“ç§¯
        size = len(height) 
        left, right = 0, size - 1 # åŒæŒ‡é’ˆåˆå§‹åŒ–
        volume, high = 0, 1 # æ€»ä½“ç§¯å’Œé«˜åº¦åˆå§‹åŒ–
        while (left <= right):
            while (left <= right and height[left] < high): 
                left += 1 
            while (left <= right and height[right] < high):
                right -= 1
            volume += right - left + 1 # æ¯ä¸€å±‚çš„å®¹é‡éƒ½åŠ èµ·æ¥
            high += 1 # é«˜åº¦åŠ ä¸€
        return volume - Sum # æ€»ä½“ç§¯å‡å»æŸ±å­ä½“ç§¯ï¼Œå³é›¨æ°´æ€»é‡
```
æ•°ç»„ å›°éš¾ åŒæŒ‡é’ˆæ³•å¦™å•Šï¼

æˆ‘æƒ³åˆ°äº†æŒ‰å±‚è®¡ç®—æ°´é‡ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦O(n),æ— æ³•é€šè¿‡æœ€åä¸€ä¸ªæµ‹è¯•

https://leetcode-cn.com/problems/volume-of-histogram-lcci/

ğŸ‘‡O(n)çš„å±‘ä»£ç 
```python
class Solution:
    def trap(self, height: List[int]) -> int:
        d = dict()
        ans = 0
        for i,n in enumerate(height):
            for j in range(1,n+1):
                if j in d:
                    ans += (i - d[j][-1] - 1)
                    d[j].append(i)
                else:
                    d[j] = [i]
        return ans
```


